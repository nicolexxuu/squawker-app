{"ast":null,"code":"import _objectSpread from\"C:/code/web-dev/warbler/warbler-client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{Routes,Route,Redirect,useLocation,useNavigate,useParams}from\"react-router-dom\";import{connect}from\"react-redux\";import Homepage from\"../components/Homepage\";import AuthForm from\"../components/AuthForm\";import{authUser}from\"../store/actions/auth\";import{removeError}from\"../store/actions/errors\";import withAuth from\"../hocs/withAuth\";import MessageForm from\"../containers/MessageForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(props){var authUser=props.authUser,errors=props.errors,removeError=props.removeError,currentUser=props.currentUser;var MessageFormWithAuth=withAuth(MessageForm);// console.log(\"main user: \" + currentUser + \" id: \" + Object.keys(currentUser));\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"z-0\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Homepage,_objectSpread({currentUser:currentUser},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signin\",element:/*#__PURE__*/_jsx(AuthForm,_objectSpread({errors:errors,removeError:removeError,onAuth:authUser,buttonText:\"log in\",heading:\"welcome back\"},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",element:/*#__PURE__*/_jsx(AuthForm,_objectSpread({errors:errors,removeError:removeError,onAuth:authUser,signUp:true,buttonText:\"sign up\",heading:\"welcome\"},props))}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"users/:id/messages/new\",element:/*#__PURE__*/_jsx(MessageFormWithAuth,_objectSpread({},props))})]})});};function mapStateToProps(state){console.log(\"current user :): \"+state.currentUser.user);return{currentUser:state.currentUser,errors:state.errors};}function withRouter(Component){function ComponentWithRouterProp(props){var location=useLocation();var navigate=useNavigate();var params=useParams();return/*#__PURE__*/_jsx(Component,_objectSpread(_objectSpread({},props),{},{router:{location:location,navigate:navigate,params:params}}));}return ComponentWithRouterProp;}export default withRouter(connect(mapStateToProps,{authUser:authUser,removeError:removeError})(Main));","map":{"version":3,"names":["React","Routes","Route","Redirect","useLocation","useNavigate","useParams","connect","Homepage","AuthForm","authUser","removeError","withAuth","MessageForm","jsx","_jsx","jsxs","_jsxs","Main","props","errors","currentUser","MessageFormWithAuth","className","children","exact","path","element","_objectSpread","onAuth","buttonText","heading","signUp","mapStateToProps","state","console","log","user","withRouter","Component","ComponentWithRouterProp","location","navigate","params","router"],"sources":["C:/code/web-dev/warbler/warbler-client/src/containers/Main.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n    Routes, Route, Redirect,\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Homepage from \"../components/Homepage\";\r\nimport AuthForm from \"../components/AuthForm\";\r\nimport { authUser } from \"../store/actions/auth\";\r\nimport { removeError } from \"../store/actions/errors\";\r\nimport withAuth from \"../hocs/withAuth\";\r\nimport MessageForm from \"../containers/MessageForm\";\r\n\r\nconst Main = props => {\r\n    const { authUser, errors, removeError, currentUser } = props;\r\n    const MessageFormWithAuth = withAuth(MessageForm);\r\n    // console.log(\"main user: \" + currentUser + \" id: \" + Object.keys(currentUser));\r\n    return (\r\n        <div className=\"z-0\">\r\n            <Routes>\r\n                <Route exact path=\"/\" element={<Homepage currentUser={currentUser} {...props} />} />\r\n                <Route exact path=\"/signin\" element={\r\n                    <AuthForm\r\n                        errors={errors}\r\n                        removeError={removeError}\r\n                        onAuth={authUser}\r\n                        buttonText=\"log in\"\r\n                        heading=\"welcome back\"\r\n                        {...props} //?\r\n                    />\r\n                } />\r\n                <Route exact path=\"/signup\" element={\r\n                    <AuthForm\r\n                        errors={errors}\r\n                        removeError={removeError}\r\n                        onAuth={authUser}\r\n                        signUp\r\n                        buttonText=\"sign up\"\r\n                        heading=\"welcome\"\r\n                        {...props}\r\n                    />\r\n                } />\r\n                <Route\r\n                    exact path=\"users/:id/messages/new\"\r\n                    element={<MessageFormWithAuth {...props} />}\r\n                />\r\n            </Routes>\r\n        </div >\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    console.log(\"current user :): \" + state.currentUser.user);\r\n    return {\r\n        currentUser: state.currentUser,\r\n        errors: state.errors\r\n    };\r\n}\r\n\r\nfunction withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps, { authUser, removeError })(Main));"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}