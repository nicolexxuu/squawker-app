{"ast":null,"code":"import _classCallCheck from\"C:/code/web-dev/warbler/warbler-client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/code/web-dev/warbler/warbler-client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/code/web-dev/warbler/warbler-client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/code/web-dev/warbler/warbler-client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{fetchMessages,removeMessage}from\"../store/actions/messages\";import MessageItem from\"../components/MessageItem\";import{jsx as _jsx}from\"react/jsx-runtime\";var MessageList=/*#__PURE__*/function(_Component){_inherits(MessageList,_Component);var _super=_createSuper(MessageList);function MessageList(){_classCallCheck(this,MessageList);return _super.apply(this,arguments);}_createClass(MessageList,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchMessages();}},{key:\"render\",value:function render(){var _this=this;var _this$props=this.props,messages=_this$props.messages,removeMessage=_this$props.removeMessage,currentUser=_this$props.currentUser;// console.log(\"message list current user: \" + currentUser);\nvar messageList=messages.map(function(m){return/*#__PURE__*/_jsx(MessageItem,{date:m.createdAt,text:m.text,imageUrl:m.imageUrl,username:m.user.username,profileImageUrl:m.user.profileImageUrl,removeMessage:removeMessage.bind(_this,m.user._id,m._id),isCorrectUser:currentUser===m.user._id},m._id);});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 divide-y\",children:messageList})});}}]);return MessageList;}(Component);function mapStateToProps(state){console.log(\"current user in map: \"+state.currentUser.user.id);return{messages:state.messages,currentUser:state.currentUser.user.id};}export default connect(mapStateToProps,{fetchMessages:fetchMessages,removeMessage:removeMessage})(MessageList);","map":{"version":3,"names":["React","Component","connect","fetchMessages","removeMessage","MessageItem","jsx","_jsx","MessageList","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","componentDidMount","props","render","_this","_this$props","messages","currentUser","messageList","map","m","date","createdAt","text","imageUrl","username","user","profileImageUrl","bind","_id","isCorrectUser","children","className","mapStateToProps","state","console","log","id"],"sources":["C:/code/web-dev/warbler/warbler-client/src/containers/MessageList.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchMessages, removeMessage } from \"../store/actions/messages\";\r\nimport MessageItem from \"../components/MessageItem\"\r\n\r\nclass MessageList extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchMessages();\r\n    }\r\n\r\n    render() {\r\n        const { messages, removeMessage, currentUser } = this.props;\r\n        // console.log(\"message list current user: \" + currentUser);\r\n        let messageList = messages.map(m => (\r\n            <MessageItem\r\n                key={m._id}\r\n                date={m.createdAt}\r\n                text={m.text}\r\n                imageUrl={m.imageUrl}\r\n                username={m.user.username}\r\n                profileImageUrl={m.user.profileImageUrl}\r\n                removeMessage={removeMessage.bind(this, m.user._id, m._id)}\r\n                isCorrectUser={currentUser === m.user._id}\r\n            />\r\n        ));\r\n\r\n        return (\r\n            <div >\r\n                <ul className=\"space-y-2 divide-y\">\r\n                    {messageList}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    console.log(\"current user in map: \" + state.currentUser.user.id);\r\n    return {\r\n        messages: state.messages,\r\n        currentUser: state.currentUser.user.id\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchMessages, removeMessage })(MessageList);"],"mappings":"geAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,aAAa,CACrC,OAASC,aAAa,CAAEC,aAAa,KAAQ,2BAA2B,CACxE,MAAO,CAAAC,WAAW,KAAM,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,4BAE7C,CAAAC,WAAW,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,WAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,WAAA,WAAAA,YAAA,EAAAK,eAAA,MAAAL,WAAA,SAAAG,MAAA,CAAAG,KAAA,MAAAC,SAAA,GAAAC,YAAA,CAAAR,WAAA,GAAAS,GAAA,qBAAAC,KAAA,CACb,SAAAC,kBAAA,CAAoB,CAChB,IAAI,CAACC,KAAK,CAACjB,aAAa,EAAE,CAC9B,CAAC,GAAAc,GAAA,UAAAC,KAAA,CAED,SAAAG,OAAA,CAAS,KAAAC,KAAA,MACL,IAAAC,WAAA,CAAiD,IAAI,CAACH,KAAK,CAAnDI,QAAQ,CAAAD,WAAA,CAARC,QAAQ,CAAEpB,aAAa,CAAAmB,WAAA,CAAbnB,aAAa,CAAEqB,WAAW,CAAAF,WAAA,CAAXE,WAAW,CAC5C;AACA,GAAI,CAAAC,WAAW,CAAGF,QAAQ,CAACG,GAAG,CAAC,SAAAC,CAAC,qBAC5BrB,IAAA,CAACF,WAAW,EAERwB,IAAI,CAAED,CAAC,CAACE,SAAU,CAClBC,IAAI,CAAEH,CAAC,CAACG,IAAK,CACbC,QAAQ,CAAEJ,CAAC,CAACI,QAAS,CACrBC,QAAQ,CAAEL,CAAC,CAACM,IAAI,CAACD,QAAS,CAC1BE,eAAe,CAAEP,CAAC,CAACM,IAAI,CAACC,eAAgB,CACxC/B,aAAa,CAAEA,aAAa,CAACgC,IAAI,CAACd,KAAI,CAAEM,CAAC,CAACM,IAAI,CAACG,GAAG,CAAET,CAAC,CAACS,GAAG,CAAE,CAC3DC,aAAa,CAAEb,WAAW,GAAKG,CAAC,CAACM,IAAI,CAACG,GAAI,EAPrCT,CAAC,CAACS,GAAG,CAQZ,EACL,CAAC,CAEF,mBACI9B,IAAA,QAAAgC,QAAA,cACIhC,IAAA,OAAIiC,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAC7Bb,WAAW,EACX,EACH,CAEd,CAAC,WAAAlB,WAAA,GA5BqBP,SAAS,EA+BnC,QAAS,CAAAwC,eAAeA,CAACC,KAAK,CAAE,CAC5BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAGF,KAAK,CAACjB,WAAW,CAACS,IAAI,CAACW,EAAE,CAAC,CAChE,MAAO,CACHrB,QAAQ,CAAEkB,KAAK,CAAClB,QAAQ,CACxBC,WAAW,CAAEiB,KAAK,CAACjB,WAAW,CAACS,IAAI,CAACW,EACxC,CAAC,CACL,CAEA,cAAe,CAAA3C,OAAO,CAACuC,eAAe,CAAE,CAAEtC,aAAa,CAAbA,aAAa,CAAEC,aAAa,CAAbA,aAAc,CAAC,CAAC,CAACI,WAAW,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}